<!DOCTYPE html>
<!-- On réutilise notre layout de base -->
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout(~{::title}, ~{::section})}">
<head>
  <!-- Le titre de la page -->
  <title>Liste des Clubs - CampusFlow</title>
</head>
<body>
<!-- Le contenu spécifique à cette page -->
<section>
  <div class="container-fluid">
    <!-- Titre de la page avec un bouton de retour -->
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h1>Tous les Clubs</h1>
      <!-- Lien pour revenir au portail "Découvrir" -->
      <a th:href="@{/decouvrir}" class="btn btn-secondary">Retour</a>
    </div>

    <!-- La boucle pour afficher chaque club sous forme de carte -->
    <div class="row">
      <!-- On boucle sur la liste "allClubs" fournie par le contrôleur -->
      <div class="col-md-4 col-lg-3 mb-4" th:each="club : ${allClubs}">
        <div class="card h-100 shadow-sm">
          <!-- Image du club -->
          <img th:src="${club.logo != null ? club.logo : '/images/default-club.png'}" class="card-img-top" alt="Logo du club">

          <div class="card-body">
            <!-- Nom du club -->
            <h5 class="card-title" th:text="${club.nom}">Nom du Club</h5>
            <!-- Description du club (tronquée si trop longue) -->
            <p class="card-text" th:text="${#strings.abbreviate(club.description, 100)}">
              Description courte du club...
            </p>
          </div>

          <div class="card-footer bg-transparent border-top-0">
            <!-- Lien vers la future page de détail du club -->
            <a th:href="@{/clubs/{id}(id=${club.id})}" class="btn btn-primary w-100">Voir les détails</a>
          </div>
        </div>
      </div>

      <!-- Message affiché si la liste des clubs est vide -->
      <div th:if="${allClubs.isEmpty()}">
        <p>Aucun club n'a été créé pour le moment.</p>
      </div>
    </div>
  </div>
</section>
</body>
</html>